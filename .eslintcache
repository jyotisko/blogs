[{"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\index.js":"1","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\App.js":"2","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Create.js":"3","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\BlogDetails.js":"4","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Edit.js":"5","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\NotFound.js":"6","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\NavBar.js":"7","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Home.js":"8","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Search.js":"9","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\BlogList.js":"10","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Signup.js":"11","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Login.js":"12","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\firebase.js":"13","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Account.js":"14","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\AuthorInfo.js":"15","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Bookmarks.js":"16","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\LearnToWriteBlog.js":"17","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\hooks\\useFetch.js":"18","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\context\\AuthContext.js":"19","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\RecommendBlog.js":"20","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\ColorMode.js":"21","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\context\\PageContext.js":"22"},{"size":237,"mtime":1615103261814,"results":"23","hashOfConfig":"24"},{"size":1647,"mtime":1616584035436,"results":"25","hashOfConfig":"24"},{"size":2965,"mtime":1615980090643,"results":"26","hashOfConfig":"24"},{"size":5923,"mtime":1616076298260,"results":"27","hashOfConfig":"24"},{"size":3895,"mtime":1615719386103,"results":"28","hashOfConfig":"24"},{"size":360,"mtime":1616072245077,"results":"29","hashOfConfig":"24"},{"size":792,"mtime":1615720602910,"results":"30","hashOfConfig":"24"},{"size":1727,"mtime":1616584021200,"results":"31","hashOfConfig":"24"},{"size":2264,"mtime":1616075705009,"results":"32","hashOfConfig":"24"},{"size":571,"mtime":1615985591446,"results":"33","hashOfConfig":"24"},{"size":2354,"mtime":1615574221204,"results":"34","hashOfConfig":"24"},{"size":1467,"mtime":1611748216871,"results":"35","hashOfConfig":"24"},{"size":525,"mtime":1612263497534,"results":"36","hashOfConfig":"24"},{"size":5335,"mtime":1616073963437,"results":"37","hashOfConfig":"24"},{"size":2436,"mtime":1615719625696,"results":"38","hashOfConfig":"24"},{"size":1904,"mtime":1615720459480,"results":"39","hashOfConfig":"24"},{"size":913,"mtime":1615106741196,"results":"40","hashOfConfig":"24"},{"size":933,"mtime":1615125335159,"results":"41","hashOfConfig":"24"},{"size":463,"mtime":1615718965030,"results":"42","hashOfConfig":"24"},{"size":784,"mtime":1615985403990,"results":"43","hashOfConfig":"24"},{"size":1943,"mtime":1616583593109,"results":"44","hashOfConfig":"24"},{"size":319,"mtime":1616583923788,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"lafqcf",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"48"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"48"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\index.js",[],["93","94"],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\App.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Create.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\BlogDetails.js",["95"],"import { useHistory, useParams } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport { useEffect, useState, useContext } from 'react';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport gfm from 'remark-gfm';\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter'\r\nimport useFetch from '../hooks/useFetch';\r\nimport { app } from './../firebase';\r\nimport icons from './../assets/icons.svg';\r\nimport { AuthContext } from './../context/AuthContext';\r\nimport RecommendBlog from './RecommendBlog';\r\n\r\nconst BlogDetails = () => {\r\n\r\n  const user = useContext(AuthContext);\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [blog, isPending, error] = useFetch(`${process.env.REACT_APP_API_URL}blogs/${id}`);\r\n  const [isBookmarked, setIsBookmarked] = useState(false);\r\n  const [isReady, setIsReady] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n  const deleteBlog = () => {\r\n    let deletingToast = toast.loading('Deleting Blog...');\r\n    fetch(`${process.env.REACT_APP_API_URL}bookmarks/all/${id}`, {\r\n      method: 'DELETE'\r\n    }).then(() => fetch(`${process.env.REACT_APP_API_URL}blogs/${id}`,\r\n      { method: 'DELETE' }\r\n    )).then(() => {\r\n      toast.dismiss(deletingToast);\r\n      history.push('/');\r\n    })\r\n  };\r\n\r\n  useEffect(() => {\r\n    let loadingToast;\r\n    if (isPending) loadingToast = toast.loading('Loading...');\r\n    else toast.dismiss(loadingToast);\r\n  }, [isPending]);\r\n\r\n  useEffect(() => {\r\n    error && toast.error('Something went wrong', { duration: 5000 });\r\n  }, [error]);\r\n\r\n  useEffect(() => {\r\n    if (!blog) return;\r\n\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(`${process.env.REACT_APP_API_URL}bookmarks/?userID=${app.auth().currentUser?.uid}&blogID=${id}`);\r\n        const data = await res.json();\r\n        data.results === 0 ? setIsBookmarked(false) : setIsBookmarked(true);\r\n        setIsReady(true);\r\n\r\n      } catch (err) {\r\n        toast.error('Something went wrong! Failed to fetch.', { duration: 5000 });\r\n      }\r\n    })();\r\n\r\n  }, [blog]);\r\n\r\n  const removeBookmark = async () => {\r\n    let loadingToast = toast.loading('Removing bookmark...');\r\n    try {\r\n      await fetch(`${process.env.REACT_APP_API_URL}bookmarks?blogID=${id}&userID=${app.auth().currentUser.uid}`, {\r\n        method: 'DELETE'\r\n      });\r\n      setIsBookmarked(false);\r\n      toast.dismiss(loadingToast);\r\n    } catch (err) {\r\n      toast.dismiss(loadingToast);\r\n      toast.error('Something went wrong! Failed to fetch.', { duration: 5000 });\r\n    }\r\n  };\r\n\r\n  const addBookmark = async () => {\r\n    let loadingToast = toast.loading('Adding bookmark...');\r\n    try {\r\n      setIsBookmarked(true);\r\n      const res = await fetch(`${process.env.REACT_APP_API_URL}bookmarks`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          blogID: id,\r\n          userID: app.auth().currentUser.uid\r\n        }),\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n      await res.json();\r\n      setIsBookmarked(true);\r\n      toast.dismiss(loadingToast);\r\n    } catch (err) {\r\n      toast.dismiss(loadingToast);\r\n      toast.error('Something went wrong! Failed to fetch.', { duration: 5000 });\r\n    }\r\n  };\r\n\r\n  const handleBookmarkClick = async () => {\r\n    try {\r\n      setIsProcessing(true);\r\n      if (isBookmarked) await removeBookmark();\r\n      if (!isBookmarked) await addBookmark();\r\n      setIsProcessing(false);\r\n    } catch (err) {\r\n      setIsProcessing(false);\r\n      toast.error('Something went wrong! Failed to fetch.', { duration: 5000 });\r\n    }\r\n  };\r\n\r\n  const SVGImage = ({ isBookmarked }) => {\r\n    return (\r\n      <svg className='svg-bookmark' onClick={handleBookmarkClick}>\r\n        <use xlinkHref={`${icons}#icon-bookmark${isBookmarked ? '-fill' : ''}`} />\r\n      </svg>\r\n    );\r\n  };\r\n\r\n  const renderers = {\r\n    code: ({ language, value }) => {\r\n      return <SyntaxHighlighter language={language} children={value} />\r\n    }\r\n  };\r\n\r\n  const getFormattedKeywords = keywords => {\r\n    if (keywords === '') return;\r\n    const formatted = keywords.split(',').map(el => `#${el.trim().replaceAll(' ', '-')}`).join(' ');\r\n    return formatted;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {user ? (\r\n        <div className='blog-details'>\r\n          {\r\n            error && <div>Something went wrong...</div>\r\n          }\r\n          {\r\n            isReady && (\r\n              <>\r\n                <article>\r\n                  <h2 className='blog-title'>{blog.blog.title}</h2>\r\n                  <p className='written-by-author'>Written by <Link to={`/user/${blog.blog.userID}`}>{blog.blog.author}</Link></p>\r\n                  {isProcessing ? '' : <SVGImage isBookmarked={isBookmarked} />}\r\n                  <div className='blog-body'>\r\n                    <ReactMarkdown renderers={renderers} plugins={[gfm]} source={blog.blog.body} />\r\n                  </div>\r\n                  <h5 className='keywords'>{getFormattedKeywords(blog.blog.keywords)}</h5>\r\n                  {\r\n                    blog.blog.userID === app.auth().currentUser.uid || app.auth().currentUser.uid === process.env.REACT_APP_ADMIN_UID ? (\r\n                      <>\r\n                        <button onClick={deleteBlog} className='delete-blog'>Delete</button>\r\n                        <Link to={`/edit/${blog.blog._id}`}><button>Edit</button></Link>\r\n                      </>\r\n                    ) : ''\r\n                  }\r\n                </article>\r\n                <RecommendBlog currentBlogID={id} />\r\n              </>\r\n            )\r\n          }\r\n        </div>\r\n      ) : (\r\n        <h4 className='login-to-view'><Link to='/login'>Login</Link> to view blog.</h4>\r\n      )}\r\n      <Toaster toastOptions={{\r\n        className: 'toast-element'\r\n      }} position='bottom-center' />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BlogDetails;","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Edit.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\NotFound.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\NavBar.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Home.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Search.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\BlogList.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Signup.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Login.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\firebase.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Account.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\AuthorInfo.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\Bookmarks.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\LearnToWriteBlog.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\hooks\\useFetch.js",["96"],"import { useState, useEffect } from \"react\";\r\n\r\nconst useFetch = url => {\r\n\r\n  const abortController = new AbortController();\r\n\r\n  const [data, setData] = useState(null);\r\n  const [isPending, setIsPending] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(url, {\r\n      signal: abortController.signal,\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) throw new Error('Failed to fetch');\r\n        else return res.json();\r\n      })\r\n      .then(dataFromApi => {\r\n        setData(dataFromApi);\r\n        setIsPending(false);\r\n        setError(null);\r\n      })\r\n      .catch(err => {\r\n        if (err.name === 'AbortError') console.log('fetch aborted');\r\n        else {\r\n          setError(err.message);\r\n          setIsPending(false);\r\n        }\r\n      });\r\n    return () => abortController.abort();\r\n  }, [url]);\r\n\r\n  return [data, isPending, error];\r\n\r\n};\r\n\r\nexport default useFetch;\r\n","C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\context\\AuthContext.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\RecommendBlog.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\components\\ColorMode.js",[],"C:\\My Garbage\\Web Development\\React.js\\blog\\blog\\src\\context\\PageContext.js",[],{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":61,"column":6,"nodeType":"103","endLine":61,"endColumn":12,"suggestions":"104"},{"ruleId":"101","severity":1,"message":"105","line":32,"column":6,"nodeType":"103","endLine":32,"endColumn":11,"suggestions":"106"},"no-native-reassign",["107"],"no-negated-in-lhs",["108"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.","ArrayExpression",["109"],"React Hook useEffect has a missing dependency: 'abortController'. Either include it or remove the dependency array.",["110"],"no-global-assign","no-unsafe-negation",{"desc":"111","fix":"112"},{"desc":"113","fix":"114"},"Update the dependencies array to be: [blog, id]",{"range":"115","text":"116"},"Update the dependencies array to be: [abortController, url]",{"range":"117","text":"118"},[2141,2147],"[blog, id]",[852,857],"[abortController, url]"]